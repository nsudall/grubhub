<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>GrubHub — Mock Frontend</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link rel="stylesheet" href="/assets/styles/restuarant.css" />
  </head>
  <body>
        <!-- Header / Top Bar -->
        <header class="topbar">
          <div class="topbar-inner">
            <div class="input-group search-group">
              <input id="search-text" type="text" class="form-control" placeholder="Search restaurants" aria-label="Search box">
              <button id="search-button" class="btn btn-primary search-btn" type="button">Search</button>
            </div>
    
            <button class="filter-btn" type="button" aria-label="Open filters">
              <span class="filter-icon">☰</span>
              Filters
            </button>
    
            <nav class="icons" aria-label="Quick actions">
              <a href="#" class="icon" aria-label="Cart" title="Cart" role="button">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10
                           0c-1.1 0-1.99.9-1.99 2S15.9 22 17 22s2-.9 2-2-.9-2-2-2zM7.16 14h9.45
                           c.75 0 1.4-.41 1.73-1.03l3.24-6.32A1 1 0 0 0 20.66 5H6.21L5.27 3H2v2h2l3.6
                           7.59-1.35 2.44A2 2 0 0 0 8 18h12v-2H8.42l1-2z"/>
                </svg>
              </a>
              <a href="#" class="icon" aria-label="Profile" title="Profile" role="button">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <circle cx="12" cy="8" r="4"></circle>
                  <path d="M4 20c0-4.42 3.58-8 8-8s8 3.58 8 8"></path>
                </svg>
              </a>
            </nav>
          </div>
        </header>
    

    <!-- Main content -->
    <main class="container">
      <section id="searchs-container" class="card-grid" aria-label="Search results"></section>
      <section id="default-cards" class="card-grid" aria-label="Restaurants">
        <!-- Card 1 -->
        <article class="card">
          <div class="card-media">
            <img src="/assets/images/pizza.jpeg" alt="Restaurant 1 — Italian Pizza" loading="lazy">
          </div>
          <div class="card-body">
            <h3 class="card-title">Restaurant 1</h3>
            <p class="card-subtitle">Italian Pizza</p>
            <div class="meta">
              <div class="stars" aria-label="Rating 4 of 5"><span>★★★★☆</span></div>
              <span class="price" aria-label="Price level 3 of 4">$$$</span>
            </div>
            <button class="primary" type="button" onclick="goToPizzaMenu()">View menu</button>
          </div>
        </article>

        <!-- Card 2 -->
        <article class="card">
          <div class="card-media">
            <img src="/assets/images/burger.jpeg" alt="Restaurant 2 — American Burgers" loading="lazy">
          </div>
          <div class="card-body">
            <h3 class="card-title">Restaurant 2</h3>
            <p class="card-subtitle">American Burgers</p>
            <div class="meta">
              <div class="stars" aria-label="Rating 3 of 5"><span>★★★☆☆</span></div>
              <span class="price" aria-label="Price level 1 of 4">$</span>
            </div>
            <button class="primary" type="button" onclick="goToBurgerMenu()">View menu</button>
          </div>
        </article>

        <!-- Card 3 -->
        <article class="card">
          <div class="card-media">
            <img src="/assets/images/thai.webp" alt="Restaurant 3 — Asian Thai" loading="lazy">
          </div>
          <div class="card-body">
            <h3 class="card-title">Restaurant 3</h3>
            <p class="card-subtitle">Asian Thai</p>
            <div class="meta">
              <div class="stars" aria-label="Rating 5 of 5"><span>★★★★★</span></div>
              <span class="price" aria-label="Price level 2 of 4">$$</span>
            </div>
            <button class="primary" type="button" onclick="goToThaiMenu()">View menu</button>
          </div>
        </article>

        <!-- Card 4 (new) -->
        <article class="card">
          <div class="card-media">
            <img src="/assets/images/taco.jpeg" alt="Restaurant 4 — Mexican Tacos" loading="lazy">
          </div>
          <div class="card-body">
            <h3 class="card-title">Restaurant 4</h3>
            <p class="card-subtitle">Mexican Tacos</p>
            <div class="meta">
              <div class="stars" aria-label="Rating 4 of 5"><span>★★★★☆</span></div>
              <span class="price" aria-label="Price level 2 of 4">$$</span>
            </div>
            <button class="primary" type="button" onclick="goToTacoMenu()">View menu</button>
          </div>
        </article>

        <!-- Card 5 (new) -->
        <article class="card">
          <div class="card-media">
            <img src="/assets/images/curry.jpeg" alt="Restaurant 5 — Indian Curry" loading="lazy">
          </div>
          <div class="card-body">
            <h3 class="card-title">Restaurant 5</h3>
            <p class="card-subtitle">Indian Curry</p>
            <div class="meta">
              <div class="stars" aria-label="Rating 4 of 5"><span>★★★★☆</span></div>
              <span class="price" aria-label="Price level 3 of 4">$$$</span>
            </div>
            <button class="primary" type="button" onclick="goToCurryMenu()">View menu</button>
          </div>
        </article>

        <!-- Card 6 (new) -->
        <article class="card">
          <div class="card-media">
            <img src="/assets/images/pasta.jpeg" alt="Restaurant 6 — Italian Pasta" loading="lazy">
          </div>
          <div class="card-body">
            <h3 class="card-title">Restaurant 6</h3>
            <p class="card-subtitle">Italian Pasta</p>
            <div class="meta">
              <div class="stars" aria-label="Rating 5 of 5"><span>★★★★★</span></div>
              <span class="price" aria-label="Price level 4 of 4">$$$$</span>
            </div>
            <button class="primary" type="button" onclick="goToPastaMenu()">View menu</button>
          </div>
        </article>
      </section>
    </main>

    <script>
        
        function goToPizzaMenu() {
          window.location.href = "/pizza";
        }

        function goToBurgerMenu() {
          window.location.href = "/burger";
        }

        function goToThaiMenu() {
          window.location.href = "/thai";
        }

        function goToTacoMenu() {
          window.location.href = "/taco";
        }

        function goToCurryMenu() {
          window.location.href = "/curry";
        }

        function goToPastaMenu() {
          window.location.href = "/pasta";
        }

        $(document).ready(function () {
          
        $("#search-button").click(function () {
            const url = $('#search-text').val() ? `http://localhost:8888/api/searchs?search=${$('#search-text').val()}` : `http://localhost:8888/api/searchs`;
            
            $.ajax({
                url: url,
                type: "GET",
                dataType: "json",
                success: function (data) {
                  $('#default-cards').hide();
                  // Clear out old search results
                  $('#searchs-container').html('');

                  // If you still want a heading, you can add it just above the grid:
                  if (data.length > 0) {
                      // Optional heading (outside of card-grid if you want full width)
                      $('#searchs-container')
                          .before('<h2 class="text-center mb-4 text-light">Search Results</h2>');
                  }

                  // Build each result as a full card
                  $.each(data, function (key, value) {
                      $('#searchs-container').append(`
                          <article class="card">
                            <div class="card-media">
                              <!-- Use a generic image or map one from your API if available -->
                              <img src="/assets/images/${value['image']}" 
                              alt="${value['name']}" 
                              loading="lazy">
                            </div>
                            <div class="card-body">
                              <h3 class="card-title">${value['name']}</h3>
                              <p class="card-subtitle">${value['description']}</p>
                              <div class="meta">
                                <div class="stars"><span>${value['stars']}</span></div>
                                <span class="price">${value['price']}</span>
                              </div>
                              <button class="primary" type="button" onclick="${value['link']}()">View menu</button>
                            </div>
                          </article>
                      `);
                  });
              }
            });
        })
    })
    </script>
      
  </body>
</html>
